(this["webpackJsonpdata-project"]=this["webpackJsonpdata-project"]||[]).push([[20],{153:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return d})),r.d(t,"e",(function(){return m}));var n=r(123),a=r.n(n),u=r(152),c=r(168),s=r.n(c),i=r(167);r.d(t,"d",(function(){return i.a}));var o=JSON.parse(localStorage.getItem("user")),p={};o&&o.accessToken&&(p={"x-access-token":o.accessToken});var l={headers:p,withCredentials:!0};function f(e){return e.response&&e.response.data&&e.response.data.message?[e.toString()+"\nDetails: "+e.response.data.message,"error"]:[e.stack,"error"]}function d(e){return!e.data.loginRequired||(window.location.hash="login",!1)}function m(){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(a.a.mark((function e(){var t,r,n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,e.prev=1,e.next=4,s.a.get(i.a.server+"/api/v2/generate/id/"+t,l);case 4:if(!d(r=e.sent)){e.next=7;break}return e.abrupt("return",r.data.ids);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}},167:function(e,t,r){"use strict";t.a={server:"https://aqueous-dusk-20175.herokuapp.com"}},333:function(e,t,r){"use strict";r.d(t,"j",(function(){return o})),r.d(t,"n",(function(){return p})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return d})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return b})),r.d(t,"f",(function(){return w})),r.d(t,"p",(function(){return k})),r.d(t,"q",(function(){return j})),r.d(t,"i",(function(){return O})),r.d(t,"l",(function(){return S})),r.d(t,"k",(function(){return C})),r.d(t,"o",(function(){return R})),r.d(t,"m",(function(){return T})),r.d(t,"r",(function(){return D})),r.d(t,"e",(function(){return L})),r.d(t,"g",(function(){return _})),r.d(t,"h",(function(){return B}));var n=r(123),a=r.n(n),u=r(152),c=r(168),s=r.n(c),i=r(153),o=null;function p(e){o=e}function l(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.d.server+"/api/check/username/"+t,e.next=3,s.a.get(r,i.a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.d.server+"/api/check/email/"+t,e.next=3,s.a.get(r,i.a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.d.server+"/api/v2/groups",e.next=3,s.a.get(t);case 3:return r=e.sent,e.abrupt("return",r.data.groups);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.d.server+"/api/v2/organizations",t&&(r+="?groupNumber="+t),e.prev=2,e.next=5,s.a.get(r);case 5:return n=e.sent,e.abrupt("return",n.data.organizations);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function w(){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,_();case 4:r=e.sent,t=r.filter((function(e){return!1===e.validated})),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function k(e,t){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.put(i.d.server+"/api/users/active/"+t,{active:r},i.a);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function j(e,t){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(a.a.mark((function e(t,r){var n,u,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],u=i.d.server+"/api/users/validated/"+t.username,console.log(u),e.next=6,s.a.put(u,{validated:r},i.a);case 6:if(c=e.sent,n.push(c),!t.organization){e.next=14;break}return e.next=11,s.a.post(i.d.server+"/api/v2/organization/"+t.organization+"/"+t._id,{validated:r},i.a);case 11:return o=e.sent,n.push(o),e.abrupt("return",n);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function O(){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get(i.d.server+"/api/isloggedin",i.a);case 2:return e.abrupt("return",e.sent.data.isLoggedIn);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return z.apply(this,arguments)}function z(){return(z=Object(u.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("user"),window.location.hash="login";case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post(i.d.server+"/api/login/local",{username:t,password:r},i.a);case 3:return n=e.sent,console.log("Inside loginLocal method"),console.log(n.data),n.data.accessToken&&localStorage.setItem("user",JSON.stringify(n.data)),e.abrupt("return",n.data);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function R(e,t,r,n,a,u,c,s,i){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(a.a.mark((function e(t,r,n,u,c,o,p,l,f){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post(i.d.server+(t?"/api/setup":"/api/signup/local"),{username:r,password:n,firstName:u,lastName:c,email:p,phoneNumber:l,groupNumber:f,organization:o},i.a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,r){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(a.a.mark((function e(t,r,n){var u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post(i.d.server+"/api/user/permission",{permissions:[{username:t,permissions:r,active:n}]},i.a);case 2:if(u=e.sent,!Object(i.c)(u)){e.next=5;break}return e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get(i.d.server+"/api/permissions",i.a);case 2:if(t=e.sent,!Object(i.c)(t)){e.next=5;break}return e.abrupt("return",t.data.permissions);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get(i.d.server+"/api/user/details",i.a);case 2:if(t=e.sent,!Object(i.c)(t)){e.next=5;break}return e.abrupt("return",t.data.users);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get(i.d.server+"/api/profile",i.a);case 3:if(t=e.sent,!Object(i.c)(t)){e.next=6;break}return e.abrupt("return",t.data.profile);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},7302:function(e,t,r){"use strict";r.r(t);var n=r(49),a=r(50),u=r(53),c=r(52),s=r(0),i=r.n(s),o=r(333),p=r(6345),l=r(6346),f=r(6347),d=r(6714),m=r(6715),h=r(6716),v=r(6480),b=r(6481),g=r(456),w=r(6482),x=r(7303),k=r(455),y=r(56),j=function(e){Object(u.a)(r,e);var t=Object(c.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).handleChange=function(e){a.setState({[e.target.id]:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),Object(o.m)(a.state.email).then((function(){a.setState({message:"Email sent, please check your email for further action."})})).catch((function(e){console.log(e),a.setState({message:e.message})}))},a.state={email:"",message:""},a}return Object(a.a)(r,[{key:"validateForm",value:function(){return this.state.email.length>0}},{key:"render",value:function(){return i.a.createElement("div",{className:"app flex-row align-items-center"},i.a.createElement(p.a,null,i.a.createElement(l.a,{className:"justify-content-center"},i.a.createElement(f.a,{md:"9",lg:"7",xl:"6"},i.a.createElement(d.a,{className:"mx-4"},i.a.createElement(m.a,{className:"p-4"},i.a.createElement(h.a,{onSubmit:this.handleSubmit},i.a.createElement("h1",null,"Reset Password"),i.a.createElement("p",{className:"text-muted"},"Enter your email:"),i.a.createElement(v.a,{className:"mb-3"},i.a.createElement(b.a,{addonType:"prepend"},i.a.createElement(g.a,null,"@")),i.a.createElement(w.a,{type:"email",id:"email",placeholder:"Email",autoComplete:"email",value:this.state.email,onChange:this.handleChange})),i.a.createElement(x.a,{color:"muted"},this.state.message),i.a.createElement("br",null),i.a.createElement(k.a,{color:"success",disabled:!this.validateForm(),block:!0},"Send Reset Email")),i.a.createElement("br",null),i.a.createElement(y.b,{to:"/login"},i.a.createElement(k.a,{color:"link"},i.a.createElement("span",null,"Ready to log in?"))),i.a.createElement("br",null),i.a.createElement(y.b,{to:"/register"},i.a.createElement(k.a,{color:"link"},i.a.createElement("span",null,"Register a new account?")))))))))}}]),r}(s.Component);t.default=j}}]);
//# sourceMappingURL=forgetPassword.0822cc01.chunk.js.map