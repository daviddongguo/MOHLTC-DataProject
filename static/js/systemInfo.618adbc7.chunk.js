(this["webpackJsonpdata-project"]=this["webpackJsonpdata-project"]||[]).push([[29],{7323:function(e,t,a){"use strict";a.r(t);var n=a(195),r=a(159),s=a(49),i=a(50),l=a(53),c=a(52),m=a(0),o=a.n(m),u=a(168),p=a.n(u),h=a(167),f=a(153),d=null,g=function(){function e(t){return Object(s.a)(this,e),d||(d=this,this.props=t),d}return Object(i.a)(e,[{key:"systemInfo",value:function(){return p.a.get(h.a.server+"/api/v2/system",f.a).then((function(e){if(Object(f.c)(e))return e.data}))}},{key:"staticSystemInfo",value:function(){return p.a.get(h.a.server+"/api/v2/system/static",f.a).then((function(e){if(Object(f.c)(e))return e.data}))}}]),e}(),y=a(542),E=a(381),b=a(72),v=a(460),x=a(6984),O=a.n(x),j=a(7283),S={chart:{animations:{enabled:!1}},tooltip:{y:{formatter:function(e){return Math.round(e/1024/1024)+"MB"}}}},k=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e))._cpuOptions=function(){return{chart:{animations:{enabled:!1}},xaxis:{type:"category",labels:{show:!1},axisTicks:{show:!1}},yaxis:{min:0,max:100,tickAmount:5,labels:{formatter:function(e){return Math.trunc(e)+"%"}}},dataLabels:{enabled:!1},stroke:{curve:"straight"}}},i.update=function(){i.systemManager.systemInfo().then((function(e){if(e){var t=e.info,a=t.mem,n=t.currentLoad,s=[a.active,a.free,a.buffcache],l=[a.swapused,a.swapfree],c=[{name:i.state.cpuSeries[0].name,data:Object(r.a)(i.state.cpuSeries[0].data)}];c[0].data.push(n.currentload),c[0].data.length>20&&c[0].data.splice(0,1),i.setState({memorySeries:s,swapSeries:l,cpuSeries:c})}}))},i.renderText=function(e){if(!e)return"Loading...";var t=[];for(var a in e){var n=e[a];if(""!==n&&null!=n)if("object"!==typeof n)t.push(o.a.createElement(o.a.Fragment,{key:a},o.a.createElement("span",{style:{fontWeight:"bold"}},a.charAt(0).toUpperCase()+a.slice(1),": "),n,o.a.createElement("br",null)));else for(var r in n){var s=a.charAt(0).toUpperCase()+a.slice(1)+" - "+r;t.push(o.a.createElement(o.a.Fragment,{key:s},o.a.createElement("span",{style:{fontWeight:"bold"}},s,": "),n[r],o.a.createElement("br",null)))}}return t},i.systemManager=new g(e),i.state={memoryOptions:Object(n.a)(Object(n.a)({},S),{},{labels:["Active","Free","Buffer"]}),memorySeries:[],swapOptions:Object(n.a)(Object(n.a)({},S),{},{labels:["Used","Free"]}),swapSeries:[],cpuOptions:i._cpuOptions(),cpuSeries:[{name:"cpu",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}],info:{}},i.systemManager.staticSystemInfo().then((function(e){i.setState(e)})),i.autoUpdate=setInterval(i.update,2e3),i}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.autoUpdate)}},{key:"render",value:function(){var e=this.props.classes,t=this.state.info;return o.a.createElement(y.a,{container:!0,spacing:1},o.a.createElement(y.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4},o.a.createElement(E.a,null,o.a.createElement(b.a,{variant:"h5",gutterBottom:!0,className:e.title},"CPU Usage"),o.a.createElement(v.a,null,o.a.createElement(O.a,{options:this.state.cpuOptions,series:this.state.cpuSeries,type:"area",height:250})))),o.a.createElement(y.a,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3},o.a.createElement(E.a,null,o.a.createElement(b.a,{variant:"h5",gutterBottom:!0,className:e.title},"Memory Usage"),o.a.createElement(v.a,null,o.a.createElement(O.a,{options:this.state.memoryOptions,series:this.state.memorySeries,type:"pie",height:288})))),o.a.createElement(y.a,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3},o.a.createElement(E.a,null,o.a.createElement(b.a,{variant:"h5",gutterBottom:!0,className:e.title},"Swap Usage"),o.a.createElement(v.a,null,o.a.createElement(O.a,{options:this.state.swapOptions,series:this.state.swapSeries,type:"pie",height:288})))),o.a.createElement(y.a,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3},o.a.createElement(E.a,null,o.a.createElement(b.a,{variant:"h5",gutterBottom:!0,className:e.title},"System"),o.a.createElement(v.a,null,this.renderText(t.system),this.renderText(t.osInfo)))),o.a.createElement(y.a,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3},o.a.createElement(E.a,null,o.a.createElement(b.a,{variant:"h5",gutterBottom:!0,className:e.title},"CPU"),o.a.createElement(v.a,null,this.renderText(t.cpu)))),o.a.createElement(y.a,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3},o.a.createElement(E.a,null,o.a.createElement(b.a,{variant:"h5",gutterBottom:!0,className:e.title},"Disks"),o.a.createElement(v.a,null,this.renderText(t.diskLayout)))))}}]),a}(m.Component);t.default=Object(j.a)((function(e){return{title:{textAlign:"center",paddingTop:5,color:"#686868"}}}))(k)}}]);
//# sourceMappingURL=systemInfo.618adbc7.chunk.js.map